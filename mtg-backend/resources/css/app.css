@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

:root {
  --gap: 1rem;
  --max: 1100px;
  --topbar-h: 64px;

  /* Buttons (already used) */
  --btn-bg: #0ea5e9; --btn-hover-bg: #0284c7; --btn-border: #0369a1; --btn-text: #fff;
  --btn-nav-bg: #9333ea; --btn-nav-hover: #7e22ce; --btn-nav-border: #6b21a8;
}

body { margin: 0; font-family: system-ui, sans-serif; line-height: 1.4; padding-top: var(--topbar-h); }
.container { max-width: var(--max); margin: 0 auto; padding: var(--gap); }

/* Fixed top bar */
.topbar {
  position: fixed; inset: 0 0 auto 0; z-index: 1000;
  background: #111827; color: #fff; border-bottom: 1px solid #ffffff22;
  height: var(--topbar-h); display: flex; align-items: center;
}
.topbar__inner { display: flex; align-items: center; gap: 1rem; width: 100%; flex-wrap: nowrap; }

/* Tabs with banner background */
.nav-banner { position: relative; border-radius: .5rem; overflow: hidden; }
.nav-banner::before {
  content: ""; position: absolute; inset: 0;
  background-image: url('/images/magic-banner.jpg'); /* place your own image here */
  background-size: cover; background-position: center;
  filter: brightness(.6);
}
.tabs { position: relative; display: flex; gap: .5rem; align-items: center; padding: .25rem .5rem; flex: 0 0 auto; white-space: nowrap; }
.tabs form { margin: 0; display: inline-flex; }
.tabs form button {
  background: var(--btn-nav-bg); border-color: var(--btn-nav-border); color: #fff;
}
.tabs form button:hover { background: var(--btn-nav-hover); }

/* Search centered, grows to fill the gap */
.searchbar { margin: 0; display: flex; gap: .5rem; align-items: center; flex: 1 1 auto; min-width: 0; justify-content: center; }
.searchbar input[type="search"] {
  flex: 1 1 0%; min-width: 0; width: 100%;
  /* remove rigid min-width so it doesnâ€™t force wrapping */
  min-width: 0 !important; max-width: 560px;
}
.searchbar button {
  background: var(--btn-bg); color: var(--btn-text); border: 1px solid var(--btn-border); padding: .55rem .9rem; border-radius: .4rem; font-weight: 600;
}
.searchbar button:hover { background: var(--btn-hover-bg); }

/* Right-aligned logout */
.logout { flex: 0 0 auto; }
.logout form { display: flex; gap: .5rem; align-items: center; margin: 0; flex-wrap: nowrap; }
.icon-btn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 38px; height: 38px; padding: 0;
  background: var(--btn-nav-bg); border: 1px solid var(--btn-nav-border); color: #fff; border-radius: .4rem;
}
.icon-btn:hover { background: var(--btn-nav-hover); }
.logout button:not(.icon-btn) {
  background: var(--btn-nav-bg); border: 1px solid var(--btn-nav-border); color: #fff; padding: .55rem .9rem; border-radius: .4rem; font-weight: 600;
}
.logout button:not(.icon-btn):hover { background: var(--btn-nav-hover); }

/* Keep existing basics */
button { cursor: pointer; transition: background-color .15s ease, box-shadow .15s ease, transform .05s ease; }

button, .button {
  background: var(--btn-bg);
  color: var(--btn-text);
  border: 1px solid var(--btn-border);
  padding: .6rem .9rem;
  border-radius: .4rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color .15s ease, box-shadow .15s ease, transform .05s ease;
}

button:hover, .button:hover {
  background: var(--btn-hover-bg);
}

button:active, .button:active {
  transform: translateY(1px);
}

button:focus-visible, .button:focus-visible {
  outline: 2px solid transparent;
  box-shadow: 0 0 0 3px rgba(2,132,199,.35); /* focus ring */
}

button[disabled] {
  opacity: .6;
  cursor: not-allowed;
}

/* Navigation buttons get their own color */
.nav form button {
  background: var(--btn-nav-bg);
  border-color: var(--btn-nav-border);
}
.nav form button:hover {
  background: var(--btn-nav-hover);
}

.checkbox { display: flex; align-items: center; gap: .5rem; font-weight: 400; }

.alert.error {
  border: 1px solid #b003;
  background: #b003;
  padding: .75rem;
  border-radius: .35rem;
}

a { color: inherit; }

/* Responsive tweak */
@media (max-width: 800px) {
  .container { padding: .75rem; }
}
@media (max-width: 900px) {
  .searchbar input[type="search"] { max-width: none; }
}
@media (max-width: 700px) {
  .tabs { gap: .35rem; }
  .tabs form button { padding: .45rem .6rem; }
  .icon-btn { width: 34px; height: 34px; }
  .logout button:not(.icon-btn) { display: none; } /* keep icon only */
}

/* Deck cover: clip to banner with focused crop */
.deck-cover {
  height: 180px;
  overflow: hidden;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.deck-cover img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  /* Focus slightly above center to catch faces and main elements */
  object-position: 50% 35%;
}

/* Crop deck card image: top 10%, bottom 45%, left/right 5% */
.deck-card-cropped {
  display: block;              /* ensure predictable box */
  -webkit-clip-path: inset(10% 5% 45% 5%);
          clip-path: inset(10% 5% 45% 5%);
}

.card__media img { display: block; width: 100%; height: auto; }
/* Crop deck card image on /decks* pages: top 10%, bottom 45%, left/right 5% */
.page-decks .card__media img {
  -webkit-clip-path: inset(10% 5% 45% 5%);
          clip-path: inset(10% 5% 45% 5%);
}
